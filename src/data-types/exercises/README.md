# データ型・変数・スコープ - 演習課題

## 基礎問題

### 演習3-1. 変数宣言と初期化

さまざまなデータ型の変数を宣言し、初期化して値を表示するプログラムを作成してください。

**要件**

- 各基本データ型（char, short, int, long, float, double）の変数を宣言
- 適切な値で初期化
- printf関数で型に応じた書式指定子を使用して出力
- 符号付き・符号なしの両方を含める

**期待される出力例:**
```
char型: 文字 = 'A', 値 = 65
unsigned char型: 値 = 255
short型: 値 = -1000
unsigned short型: 値 = 65535
int型: 値 = -123456
unsigned int型: 値 = 4294967295
float型: 値 = 3.14159
double型: 値 = 3.141592653589793
```

### 演習3-2. 四則演算計算機

2つの数値を変数に格納し、四則演算（加算、減算、乗算、除算）の結果を表示するプログラムを作成してください。

**要件**

- 整数型と浮動小数点型の両方で実装
- 除算では整数除算と実数除算の違いを表示
- 各演算結果を見やすく表示

**期待される出力例:**
```
=== 整数演算 ===
a = 15, b = 4
加算: 15 + 4 = 19
減算: 15 - 4 = 11
乗算: 15 * 4 = 60
除算: 15 / 4 = 3 (整数除算)

=== 実数演算 ===
x = 15.0, y = 4.0
加算: 15.00 + 4.00 = 19.00
減算: 15.00 - 4.00 = 11.00
乗算: 15.00 * 4.00 = 60.00
除算: 15.00 / 4.00 = 3.75
```

### 演習3-3. データ型サイズの確認

sizeof演算子を使って、各データ型のサイズを表示するプログラムを作成してください。

**要件**

- 基本データ型すべてのサイズを表示
- 配列のサイズも確認
- ポインタのサイズも確認
- サイズをバイト単位で表示

**期待される出力例:**
```
=== データ型のサイズ ===
char: 1 バイト
short: 2 バイト
int: 4 バイト
long: 8 バイト
float: 4 バイト
double: 8 バイト

=== 配列のサイズ ===
int array[10]: 40 バイト
要素数: 10

=== ポインタのサイズ ===
char*: 8 バイト
int*: 8 バイト
double*: 8 バイト
```

## 応用問題

### 演習3-4. 型変換の理解

整数除算と実数除算の違い、および暗黙的・明示的型変換を確認するプログラムを作成してください。

**要件**

- 同じ数値で整数除算と実数除算を実行し、結果を比較
- 暗黙的型変換が発生する例を実装
- 明示的型変換（キャスト）を使用した例を実装
- 精度の損失が発生する例を示す

**期待される出力例:**
```
=== 整数除算と実数除算 ===
int a = 10, b = 3
整数除算: 10 / 3 = 3
実数除算（キャスト使用）: 10 / 3 = 3.333333

=== 暗黙的型変換 ===
int i = 10
double d = 3.14
i + d = 13.140000 (intがdoubleに変換)

=== 明示的型変換（キャスト） ===
double x = 3.75
(int)x = 3 (小数部分が切り捨て)

=== 精度の損失 ===
float f = 1234567890.123456
表示: 1234567936.000000 (精度が失われる)
```

### 演習3-5. スコープの実験

グローバル変数、ローカル変数、静的変数を使い分けるプログラムを作成してください。

**要件**

- 同じ名前の変数を異なるスコープで宣言
- スコープの隠蔽（シャドウイング）を実演
- 静的変数を使ったカウンター関数を実装
- 各変数の値の変化を追跡して表示

**期待される出力例:**
```
=== スコープの実験 ===
グローバル変数 x = 100

main関数内:
ローカル変数 x = 10 (グローバル変数を隠蔽)

ブロック内:
ブロック内の x = 5 (main関数の変数を隠蔽)
ブロックを出た後の x = 10

=== 静的変数カウンター ===
counter()の呼び出し 1回目: 1
counter()の呼び出し 2回目: 2
counter()の呼び出し 3回目: 3

グローバル変数 x = 100 (変更されていない)
```

### 演習3-6. 定数の活用

constと#defineを使って定数を定義し、円の面積と円周を計算するプログラムを作成してください。

**要件**

- 円周率をconstと#defineの両方で定義
- 半径を入力として受け取る
- 面積と円周を計算して表示
- 定数を変更しようとした場合のエラーを確認（コメントで説明）

**期待される出力例:**
```
円の計算プログラム
=================
半径を入力してください: 5.0

計算結果:
半径: 5.00
円周: 31.42 (#define版の円周率使用)
面積: 78.54 (const版の円周率使用)

両方の円周率の値:
#define PI = 3.141593
const pi = 3.141593
```

## チャレンジ問題

### 演習3-7. 温度変換プログラム

摂氏・華氏・ケルビンの温度単位を相互変換するプログラムを作成してください。

**要件**

- 変換式で使用する定数を適切に定義
- 浮動小数点演算の精度に注意
- ユーザーフレンドリーな入出力
- 変換公式。
  - 華氏 = 摂氏 × 9/5 + 32
  - ケルビン = 摂氏 + 273.15

**期待される出力例:**
```
=== 温度変換プログラム ===
温度を入力してください（摂氏）: 25.0

変換結果:
摂氏: 25.00 °C
華氏: 77.00 °F
ケルビン: 298.15 K

別の例（氷点）:
摂氏: 0.00 °C
華氏: 32.00 °F
ケルビン: 273.15 K

別の例（沸点）:
摂氏: 100.00 °C
華氏: 212.00 °F
ケルビン: 373.15 K
```

## 提出方法

1. 各問題に対して別々のCファイルを作成
2. ファイル名は `ex3_1_variables.c`, `ex3_2_calculator.c` のように命名
3. 各プログラムの冒頭にコメントで問題番号と簡単な説明を記載
4. C90規格でコンパイルできることを確認

## コンパイル例

```bash
gcc -std=c90 -Wall -Wextra -pedantic ex_variables.c -o ex_variables
./ex_variables
```

## ヒント

- printf関数の書式指定子を正しく使用する
  - %d: int
  - %u: unsigned int
  - %ld: long
  - %f: float/double
  - %c: char
- 初期化されていない変数の使用に注意
- 型の範囲を超えないよう注意
- sizeof演算子の戻り値はsize_t型（%luで出力）

## 次の章へ

演習問題お疲れさまでした！次は[第4章: 演算子](../../operators/)に進みましょう。