# 第4章 演習問題: 演算子

## 基礎問題

### 問題4-1: 四則演算計算機

2つの整数を入力として受け取り、すべての算術演算（加算、減算、乗算、除算、剰余）の結果を表示するプログラムを作成してください。

**要件**

- ユーザーから2つの整数を入力
- 各演算の結果を見やすく表示
- ゼロ除算のチェックを含める

**期待される出力例:**
```
2つの整数を入力してください: 10 3
10 + 3 = 13
10 - 3 = 7
10 * 3 = 30
10 / 3 = 3
10 % 3 = 1
```

**ファイル名:** `ex4_1_calculator.c`

### 問題4-2: 比較と論理演算

2つの整数を入力として受け取り、関係演算子と論理演算子を使って最大値と最小値を求めるプログラムを作成してください。

**要件**

- 2つの整数を入力
- if文を使わず、条件演算子（三項演算子）のみで実装
- 最大値と最小値を表示

**期待される出力例:**
```
2つの整数を入力してください: 15 8
最大値: 15
最小値: 8

別の例:
2つの整数を入力してください: -5 3
最大値: 3
最小値: -5
```

**ファイル名:** `ex4_2_comparison.c`

### 問題4-3: インクリメント・デクリメント

前置と後置のインクリメント・デクリメント演算子の違いを確認するプログラムを作成してください。

**要件**

- 変数に対して前置・後置の両方を使用
- 各操作後の値を表示
- 式の中での動作も確認

**期待される出力例:**
```
=== インクリメント・デクリメント演算子の動作確認 ===
初期値: x = 5

後置インクリメント (x++): 5
操作後の x: 6

前置インクリメント (++x): 7
操作後の x: 7

初期値: y = 10
式の中での動作:
a = y++ + 2 = 12 (y = 11)
b = ++y + 2 = 14 (y = 12)

デクリメントも同様:
初期値: z = 8
c = z-- = 8 (z = 7)
d = --z = 6 (z = 6)
```

**ファイル名:** `ex4_3_increment.c`

## 応用問題

### 問題4-4: ビット操作

整数を入力として受け取り、その数値の各ビットを表示し、特定のビット操作を実行するプログラムを作成してください。

**要件**

- 2進数表示
- 指定したビット位置のON/OFF確認
- 特定ビットの設定・クリア・トグル機能

**期待される出力例:**
```
整数を入力してください: 10
10 の2進数表示: 00001010

ビット位置を入力してください（0-7）: 2
ビット位置 2 は OFF です

操作を選択してください:
1. ビットを設定（ON）
2. ビットをクリア（OFF）
3. ビットをトグル（反転）
選択: 1

操作後: 14 (00001110)
ビット位置 2 を ON にしました
```

**ファイル名:** `ex4_4_bitwise.c`

### 問題4-5: 条件演算子の活用

3つの数値を入力として受け取り、条件演算子（三項演算子）のみを使って昇順に並び替えるプログラムを作成してください。

**要件**

- if文、switch文を使用しない
- 条件演算子のネストを活用
- 並び替えた結果を表示

**期待される出力例:**
```
3つの整数を入力してください: 9 3 6
昇順に並び替え: 3 6 9

別の例:
3つの整数を入力してください: -5 10 0
昇順に並び替え: -5 0 10
```

**ファイル名:** `ex4_5_ternary_sort.c`

### 問題4-6: 演算子優先順位

複雑な式を含むプログラムを作成し、演算子の優先順位による計算結果の違いを確認してください。

**要件**

- 同じ数値で異なる式を評価
- 括弧の有無による結果の違いを表示
- 少なくとも3種類以上の演算子を使用

**期待される出力例:**
```
=== 演算子優先順位の確認 ===
a = 2, b = 3, c = 4

式1: a + b * c = 14
説明: 乗算が先 → 2 + (3 * 4) = 2 + 12 = 14

式2: (a + b) * c = 20
説明: 括弧内が先 → (2 + 3) * 4 = 5 * 4 = 20

式3: a << b + c = 256
説明: 加算が先 → 2 << (3 + 4) = 2 << 7 = 256

式4: a & b | c = 6
説明: &が先、次に| → (2 & 3) | 4 = 2 | 4 = 6
```

**ファイル名:** `ex4_6_precedence.c`

## チャレンジ問題

### 問題4-7: 複合代入演算子の応用

複合代入演算子（+=, -=, *=, /=, %=, &=, |=, ^=, <<=, >>=）をすべて使用して、数値の変換処理を行うプログラムを作成してください。

**要件**

- 初期値から各種複合代入演算子を使って変換
- 各ステップでの値の変化を表示
- ビット演算の複合代入も含める

**期待される処理:**

1. 初期値を入力
2. 各種演算を順番に適用
3. 最終結果と各ステップを表示

**ファイル名:** `ex4_7_compound_operators.c`

### 問題4-8: ビット演算による最適化

ビット演算を使って、以下の処理を高速に実行するプログラムを作成してください。

**実装する機能:**

1. 2の累乗かどうかの判定
2. 2の累乗による乗算・除算
3. 偶数・奇数の判定
4. 数値の符号反転（2の補数）
5. 最下位の1ビットを抽出

**要件**

- 通常の演算子を使わずビット演算のみで実装
- 各機能の動作原理をコメントで説明
- テストケースを含める

**ファイル名:** `ex4_8_bit_optimization.c`

### 問題4-9: 演算子組み合わせパズル

与えられた数値と演算子を使って、目標の値を作るプログラムを作成してください。

**仕様:**

1. 4つの1桁の数字を入力
2. 目標値を入力
3. +, -, *, / の演算子を使用
4. 括弧の使用も可能
5. すべての数字を1回ずつ使用
6. 解が存在する場合は式を表示

**例:**
```
数字を4つ入力: 2 3 4 5
目標値: 24
解: (2 + 3) * 4 + 5 - 5 = 24
```

**ファイル名:** `ex4_9_operator_puzzle.c`

## 提出方法

1. 各問題に対して別々のCファイルを作成
2. ファイル名は指定された名前を使用
3. 各プログラムの冒頭にコメントで問題番号と簡単な説明を記載
4. C90規格でコンパイルできることを確認

## コンパイル例

```bash
gcc -std=c90 -Wall -Wextra -pedantic ex4_1_calculator.c -o ex4_1_calculator
./ex4_1_calculator
```

## 評価ポイント

- **正確性**: 要求された機能が正しく動作するか
- **エラー処理**: ゼロ除算などの例外的な状況への対処
- **コード品質**: 可読性、適切なコメント、変数名
- **効率性**: 特にビット演算問題での最適化

## ヒント

- 演算子の優先順位に注意
- ゼロ除算やオーバーフローに対する考慮
- 可読性を意識したコードを心がける
- 適切なコメントを追加する
- ビット演算では2進数表現を意識する