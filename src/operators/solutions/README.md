# 演算子と式 - 解答例

このディレクトリには演習問題の解答例が含まれています。

## 解答ファイル一覧

### 基礎問題

1. **演習4-1: 四則演算計算機**
   - [ex4_1_calculator.c](ex4_1_calculator.c) - C90準拠版
   - [ex4_1_calculator_c99.c](ex4_1_calculator_c99.c) - C99準拠版
   - 2つの整数に対する基本的な算術演算を実行

2. **演習4-2: 比較と論理演算**
   - [ex4_2_comparison.c](ex4_2_comparison.c) - C90準拠版
   - [ex4_2_comparison_c99.c](ex4_2_comparison_c99.c) - C99準拠版
   - 条件演算子のみで最大値・最小値を求める

3. **演習4-3: インクリメント・デクリメント**
   - [ex4_3_increment.c](ex4_3_increment.c) - C90準拠版
   - [ex4_3_increment_c99.c](ex4_3_increment_c99.c) - C99準拠版
   - 前置と後置の違いを詳細に確認

### 応用問題

4. **演習4-4: ビット操作**
   - [ex4_4_bitwise.c](ex4_4_bitwise.c) - C90準拠版
   - [ex4_4_bitwise_c99.c](ex4_4_bitwise_c99.c) - C99準拠版
   - ビット演算子を使った各種操作の実装

5. **演習4-5: 条件演算子の活用**
   - [ex4_5_conditional.c](ex4_5_conditional.c) - C90準拠版
   - [ex4_5_conditional_c99.c](ex4_5_conditional_c99.c) - C99準拠版
   - 3つの数値を条件演算子のみで昇順に並び替え

6. **演習4-6: 演算子優先順位**
   - [ex4_6_precedence.c](ex4_6_precedence.c) - C90準拠版
   - [ex4_6_precedence_c99.c](ex4_6_precedence_c99.c) - C99準拠版
   - 複雑な式での演算子優先順位の確認

## 学習のポイント

### C90版とC99版の主な違い

1. **変数宣言位置**
   - C90: ブロックの先頭でのみ宣言可能
   - C99: 使用箇所で宣言可能

2. **bool型の使用**
   - C90: int型で真偽値を表現
   - C99: stdbool.hによるbool型の使用

3. **inline関数**
   - C90: 未対応
   - C99: inline関数による効率化

4. **コメントスタイル**
   - C90: /* */ のみ
   - C99: // も使用可能

5. **固定幅整数型**
   - C90: 標準整数型のみ
   - C99: stdint.hによるuint8_t等の使用

### 各演習の重要概念

#### 演習4-1: 四則演算計算機
- ゼロ除算のエラー処理
- 整数除算と実数除算の違い
- 代入演算子の使い方

#### 演習4-2: 比較と論理演算
- 関係演算子の評価結果（0または1）
- 論理演算子による条件の組み合わせ
- 条件演算子によるif文なしの条件分岐

#### 演習4-3: インクリメント・デクリメント
- 前置と後置の評価タイミングの違い
- 式の中での副作用
- 未定義動作の回避

#### 演習4-4: ビット操作
- ビットマスクの作成と使用
- 特定ビットの設定・クリア・反転
- ビットシフトによる乗除算

#### 演習4-5: 条件演算子の活用
- ネストした条件演算子の使い方
- 複数条件の組み合わせ
- 可読性とのバランス

#### 演習4-6: 演算子優先順位
- 演算子の優先順位と結合規則
- 括弧による評価順序の制御
- よくある間違いとその回避方法

## コンパイルと実行

```bash
# C90準拠でコンパイル
gcc -std=c90 -Wall -Wextra -pedantic ex4_1_calculator.c -o ex4_1_calculator

# C99準拠でコンパイル
gcc -std=c99 -Wall -Wextra -pedantic ex4_1_calculator_c99.c -o ex4_1_calculator_c99

# 実行
./ex4_1_calculator
```

## 注意事項

- すべての解答例は教育目的で書かれており、実用的なコードよりも理解しやすさを重視しています
- エラー処理は基本的なものに留めており、実際のプロダクションコードではより堅牢な処理が必要です
- 各解答ファイルには詳細なコメントが含まれているので、コードと合わせて読むことを推奨します