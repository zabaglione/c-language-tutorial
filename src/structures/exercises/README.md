# 構造体 - 演習課題

## 基礎問題

### 演習11-1: 学生情報管理

学生の情報（ID、名前、年齢、成績）を格納する構造体を定義し、ポインタを使って情報を表示・更新するプログラムを作成してください。

**要件:**
- 学生情報を表す構造体を定義
- 学生情報を入力する関数を作成
- 学生情報を表示する関数を作成（ポインタ引数）
- 成績を更新する関数を作成（ポインタ引数）

**期待される動作例:**
```
学生情報を入力してください:
ID: 1001
名前: 田中太郎
年齢: 20
成績: 85.5

=== 学生情報 ===
ID: 1001
名前: 田中太郎
年齢: 20歳
成績: 85.5点

新しい成績を入力してください: 90.0
成績を更新しました。

=== 更新後の学生情報 ===
ID: 1001
名前: 田中太郎
年齢: 20歳
成績: 90.0点
```

### 演習11-2: 座標計算

2D座標を表す構造体を定義し、2点間の距離を計算する関数をポインタを使って実装してください。

**要件:**
- 座標を表す構造体（x, y）を定義
- 2点間の距離を計算する関数を作成（ポインタ引数）
- 座標を移動する関数を作成（ポインタで更新）
- math.hのsqrt関数を使用

**期待される動作例:**
```
点1の座標を入力 (x y): 0 0
点2の座標を入力 (x y): 3 4

点1: (0, 0)
点2: (3, 4)
2点間の距離: 5.00

点1を移動します。
移動量を入力 (dx dy): 1 1

移動後の点1: (1, 1)
新しい距離: 3.61
```

### 演習11-3: 商品管理

商品情報（コード、名前、価格、在庫）の構造体を作成し、構造体配列で複数商品を管理するプログラムを作成してください。

**要件:**
- 商品情報を表す構造体を定義
- 最大10個の商品を管理できる配列を用意
- 商品を追加する関数を作成
- 全商品を表示する関数を作成
- 在庫を更新する関数を作成（商品コードで検索）

**期待される動作例:**
```
=== 商品管理システム ===
1. 商品追加
2. 商品一覧表示
3. 在庫更新
0. 終了
選択: 1

商品コード: 101
商品名: ノートPC
価格: 98000
在庫数: 5
商品を追加しました。

選択: 2
=== 商品一覧 ===
コード: 101
商品名: ノートPC
価格: 98000円
在庫: 5個
```

## 応用問題

### 演習11-4: 従業員データベース

従業員情報と部署情報をネストした構造体で管理し、部署別の給与統計を算出するプログラムを作成してください。

**要件:**
- 部署情報を表す構造体（部署名、部署コード）
- 従業員情報を表す構造体（ID、名前、部署情報、給与）
- 部署別の平均給与を計算する関数
- 最高給与の従業員を検索する関数
- 構造体ポインタ配列を使用

### 演習11-5: 図書管理システム

本の情報（タイトル、著者、出版年、貸出状況）を管理し、検索・貸出・返却機能を実装してください。

**要件:**
- 書籍情報を表す構造体を定義
- 貸出状況を管理（貸出中フラグ、借りた人のID）
- タイトルで検索する関数
- 貸出処理を行う関数
- 返却処理を行う関数
- 貸出中の本一覧を表示する関数

### 演習11-6: 成績管理システム

学生と科目の構造体を使って、学生別・科目別の成績統計を管理するプログラムを作成してください。

**要件:**
- 科目情報を表す構造体（科目名、科目コード、単位数）
- 成績情報を表す構造体（学生ID、科目コード、点数、評価）
- 学生別の平均点を計算する関数
- 科目別の平均点を計算する関数
- GPA計算機能（A=4.0, B=3.0, C=2.0, D=1.0, F=0.0）

## 発展問題

### 演習11-7: 動的配列システム

構造体ポインタ配列を動的に拡張できるシステムを実装してください。

**要件:**
- 初期容量を持つ構造体ポインタ配列
- 容量が不足したら自動的に拡張する機能
- メモリ管理を適切に行う
- 要素の追加・削除機能

### 演習11-8: データソート

構造体ポインタ配列を複数の条件（名前、年齢、成績など）でソートできるプログラムを作成してください。

**要件:**
- 複数のソート基準を選択可能
- 昇順・降順の切り替え機能
- ソート用の比較関数を複数実装
- qsort関数を使用

### 演習11-9: 階層データ構造

会社組織（部署→チーム→従業員）のような階層構造を構造体とポインタで表現してください。

**要件:**
- 部署、チーム、従業員の構造体を定義
- 階層関係をポインタで表現
- 組織図を表示する関数
- 特定の部署・チームの人数を集計する関数

## 提出方法

1. 各問題に対して別々のCファイルを作成
2. ファイル名は `ex11_1_student.c`, `ex11_2_coordinate.c` のように命名
3. 各プログラムの冒頭にコメントで問題番号と簡単な説明を記載
4. C90規格でコンパイルできることを確認

## コンパイル例

```bash
gcc -std=c90 -Wall -Wextra -pedantic ex11_1_student.c -o ex11_1_student
./ex11_1_student
```

## ヒント

- 構造体のサイズに注意（パディング）
- ポインタ経由でのメンバーアクセスには->演算子を使用
- 構造体の比較は直接できないため、メンバーごとに比較
- 文字列のコピーにはstrcpy関数を使用
- 構造体を関数に渡す際は、効率のためポインタを使用することを推奨