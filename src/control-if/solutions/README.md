# 第4章 解答例: 制御構造（条件分岐）

## 解答例一覧

### 高度な解答例

#### 成績計算システム
- **ファイル**: `grade_calculator.c`, `grade_calculator_c99.c`
- **学習内容**: if-else if連鎖、switch文、複合条件判定
- **ポイント**: 実用的な評価システムの実装
- **機能**: テスト点数、出席率、宿題提出状況による総合評価

## 演習問題の解答

### 演習4-1: 年齢による料金計算
- **ファイル**: `ex4_1_ticket_pricing.c`, `ex4_1_ticket_pricing_c99.c`
- **学習内容**: if-else if文による段階的判定
- **ポイント**: 境界値の適切な処理

### 演習4-2: 電卓プログラム
- **ファイル**: `ex4_2_calculator.c`, `ex4_2_calculator_c99.c`
- **学習内容**: switch文による多分岐処理
- **ポイント**: ゼロ除算エラーの処理

### 演習4-3: BMI判定プログラム
- **ファイル**: `ex4_3_bmi_judge.c`, `ex4_3_bmi_judge_c99.c`
- **学習内容**: 浮動小数点数の計算と範囲判定
- **ポイント**: 単位変換と健康アドバイス

### 演習4-4: うるう年判定
- **ファイル**: `ex4_4_leap_year.c`, `ex4_4_leap_year_c99.c`
- **学習内容**: 複雑な論理演算子の組み合わせ
- **ポイント**: 複合条件式の正確な実装

### 演習4-5: 成績評価システム
- **ファイル**: `ex4_5_grade_system.c`, `ex4_5_grade_system_c99.c`
- **学習内容**: 条件演算子と複合条件の活用
- **ポイント**: 複数データの統合的な評価

### チャレンジ4-6: じゃんけんゲーム
- **ファイル**: `ex4_6_janken_game.c`, `ex4_6_janken_game_c99.c`
- **学習内容**: ランダム数生成と複雑な勝敗判定
- **ポイント**: ゲームロジックの実装と統計分析

## C90版とC99版の違い

### C90版（基本ファイル）
- すべての変数を関数の先頭で宣言
- `/* */` 形式のコメントを使用
- 従来のC言語の制御構造に準拠

### C99版（_c99.cファイル）
- 変数を使用する箇所の近くで宣言可能
- `//` 形式のコメントに対応
- より現代的な制御構造の書き方

## コンパイルと実行

### 基本的なコンパイル
```bash
gcc -Wall -Wextra -pedantic -std=c90 ex4_1_ticket_pricing.c -o ex4_1_ticket_pricing
./ex4_1_ticket_pricing
```

### C99版のコンパイル
```bash
gcc -Wall -Wextra -pedantic -std=c99 ex4_1_ticket_pricing_c99.c -o ex4_1_ticket_pricing_c99
./ex4_1_ticket_pricing_c99
```

### Makefileを使用
```bash
make all                    # 全てをコンパイル
make solutions              # 解答例のみコンパイル
make ex4_1                  # 個別コンパイル
make run-solutions          # 解答例を実行
make clean                  # 実行ファイルを削除
```

## 学習のポイント

### 条件分岐の基本
1. **if文**: 単純な条件判定
2. **if-else文**: 2分岐の処理
3. **if-else if文**: 多段階の条件判定
4. **switch文**: 値による多分岐処理
5. **条件演算子**: 簡潔な条件分岐

### 実用的なテクニック
1. **入力検証**: ユーザー入力の安全性確保
2. **エラーハンドリング**: 適切なエラー処理
3. **境界値処理**: 範囲指定の正確な実装
4. **複合条件**: 論理演算子の効果的な使用
5. **可読性**: 理解しやすいコードの書き方

### 設計パターン
1. **段階的判定**: if-else if連鎖による階層的処理
2. **値による分岐**: switch文による効率的な分岐
3. **状態管理**: フラグ変数による状態の管理
4. **統合的判定**: 複数条件による総合的な評価

## 注意事項

- 条件式では等価演算子（==）と代入演算子（=）を混同しない
- switch文ではbreak文を忘れずに記述
- 浮動小数点数の比較では誤差を考慮
- 論理演算子の優先順位に注意

## 実用的な応用

これらの制御構造は以下のような実用的なプログラムで使用されます：

- **Webアプリケーション**: ユーザー認証、フォーム検証
- **ゲーム**: プレイヤーの行動による分岐処理
- **データ分析**: 条件による分類・集計処理
- **システム管理**: 設定による動作の制御

## 次のステップ

この章をマスターしたら、次の章に進みましょう：
- [第5章: 制御構造（繰り返し）](../control-loop/)
- [第6章: 配列](../arrays/)
- [第7章: 文字列](../strings/)
- [第8章: 関数](../functions/)