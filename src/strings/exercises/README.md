# 文字列操作 - 演習問題

この章では、C言語における文字列操作の基本から応用まで、段階的に学習できる演習問題を提供しています。

## 演習の概要

文字列処理は、プログラミングにおいて最も基本的かつ重要な技術の一つです。この演習では、以下の3つの段階で文字列操作を習得します。

### 学習目標

1. **基本的な文字列操作の理解**
   - null終端文字列の概念
   - ポインタと配列の関係
   - メモリ安全な文字列操作

2. **文字列配列の管理**
   - 二次元配列の操作
   - 動的な要素の追加・削除
   - ソートと検索アルゴリズム

3. **高度な文字列処理**
   - パターンマッチング
   - アルゴリズムの最適化
   - 実用的な応用例

## 演習問題一覧

### 演習8-1: 基本的な文字列操作

**難易度**: 初級  
**所要時間**: 2-3時間

標準ライブラリの関数を使わずに、基本的な文字列操作関数を実装します。

**実装する関数**:
1. `my_strlen()` - 文字列の長さを計算
2. `my_strcpy()` - 文字列をコピー
3. `my_strcmp()` - 文字列を比較
4. `my_strcat()` - 文字列を連結
5. `my_strchr()` - 文字を検索
6. `my_strrchr()` - 文字を後方検索
7. `count_char()` - 特定文字をカウント

**学習ポイント**:
- null終端文字列の仕組み
- ポインタ演算の基礎
- バッファオーバーフロー対策
- エラーハンドリング

### 演習8-2: 文字列配列の管理

**難易度**: 中級  
**所要時間**: 3-4時間

学生名を格納する文字列配列の管理システムを実装します。

**実装する機能**:
1. **配列管理機能**
   - 学生名の追加・削除
   - 重複チェック
   - 配列の動的管理

2. **検索とソート機能**
   - 名前による検索
   - アルファベット順ソート
   - 一覧表示機能

**学習ポイント**:
- 二次元配列の操作
- 配列要素の挿入・削除
- バブルソートアルゴリズム
- 線形検索の実装

### 演習8-3: 高度な文字列検索

**難易度**: 上級  
**所要時間**: 4-6時間

標準ライブラリを使わずに、高度な文字列検索機能を実装します。

**実装する機能**:
1. **検索機能**
   - 大小文字を区別しない検索
   - 単語境界での検索
   - 部分文字列検索

2. **パターンマッチング**
   - ワイルドカード検索（*、?）
   - 複数パターンの同時検索
   - 検索結果の詳細情報

**学習ポイント**:
- 高度な文字列マッチングアルゴリズム
- メモリ効率的な実装
- 動的プログラミング
- パフォーマンス最適化

## 提出要件

各演習について、以下の要件を満たしてください。

### 必須要件

1. **ソースコード**
   - 適切なコメント（日本語）
   - 関数の詳細な説明
   - エラーハンドリング

2. **テストプログラム**
   - 各関数の動作確認
   - 境界値テスト
   - エラーケースのテスト

3. **実行例**
   - 正常ケースの実行結果
   - エラーケースの実行結果

### 推奨要件

1. **コーディングスタイル**
   - 一貫したインデント
   - 意味のある変数名
   - 適切な関数分割

2. **安全性**
   - バッファオーバーフロー対策
   - NULLポインタチェック
   - メモリリークの防止

## 評価基準

### 正確性 (40%)
- 仕様通りに動作するか
- エラーケースが適切に処理されるか
- テストケースが網羅的か

### 安全性 (30%)
- バッファオーバーフローがないか
- メモリ管理が適切か
- 入力検証が十分か

### 効率性 (20%)
- アルゴリズムの計算量が適切か
- 不要な処理がないか
- メモリ使用量が最適か

### 可読性 (10%)
- コードが理解しやすいか
- コメントが適切か
- 命名規則が一貫しているか

## 学習の進め方

### 推奨手順

1. **基礎の理解**
   - 文字列の基本概念を復習
   - ポインタと配列の関係を確認
   - null終端文字列の仕組みを理解

2. **段階的実装**
   - 演習1から順番に取り組む
   - 小さな関数から実装開始
   - テストケースを先に作成

3. **デバッグとテスト**
   - コンパイル時の警告を確認
   - 実行時エラーをチェック
   - メモリ使用状況を監視

4. **最適化と改善**
   - パフォーマンスを測定
   - コードの可読性を向上
   - エラーハンドリングを強化

### 学習のヒント

1. **安全第一**
   - 配列の境界を常に確認
   - NULLポインタをチェック
   - バッファサイズを適切に管理

2. **テスト駆動**
   - 関数作成前にテストケースを考える
   - エッジケースを忘れずに
   - 段階的に機能を拡張

3. **効率性の考慮**
   - 不要な文字列コピーを避ける
   - ポインタ操作を活用
   - メモリ使用量を最適化

## トラブルシューティング

### よくある問題

1. **セグメンテーション違反**
   - 配列の境界越え
   - null終端の忘れ
   - 未初期化ポインタ

2. **予期しない出力**
   - null終端文字の扱い
   - 文字コードの問題
   - バッファの不足

3. **メモリリーク**
   - 動的メモリの解放忘れ
   - 重複した確保
   - 例外時の処理不備

### デバッグ方法

1. **printfデバッグ**
   - 変数の値を確認
   - 関数の呼び出し順序を追跡
   - 配列の内容を表示

2. **gdbの使用**
   - ブレークポイントの設定
   - ステップ実行
   - 変数の監視

3. **静的解析ツール**
   - コンパイラの警告
   - lintツールの使用
   - メモリチェッカー

## 参考資料

### 必読資料
- [文字列操作の基礎](../README.md)
- [実装例とサンプルコード](../examples/)
- [解答例](../solutions/)

### 推奨図書
- 『プログラミング言語C 第2版』（K&R）
- 『Cプログラミング専門課程』
- 『セキュアプログラミング講座』

### オンラインリソース
- C言語標準ライブラリリファレンス
- 文字列処理アルゴリズム
- セキュアコーディング標準

---

これらの演習を通じて、C言語における文字列操作の基礎から応用まで、体系的に学習することができます。各演習に丁寧に取り組み、安全で効率的なコードの作成技術を身につけてください。