# 第10章 演習問題: 文字列操作

## 演習の目的
- C言語の文字列（文字配列）の仕組みを深く理解する
- 標準ライブラリの文字列関数を使いこなす
- 安全な文字列操作の実装方法を習得する
- 文字列処理アルゴリズムを実装する

## 基礎問題

### 問題10-1: 基本的な文字列操作
標準ライブラリの関数を使わずに、基本的な文字列操作関数を実装してください。

**要件**

- 以下の関数を実装:
  - `my_strlen()` - 文字列の長さを計算
  - `my_strcpy()` - 文字列をコピー
  - `my_strcmp()` - 文字列を比較
  - `my_strcat()` - 文字列を連結

**実装のヒント**

- null終端文字('\0')の扱いに注意
- バッファオーバーフローを防ぐ

**期待される出力例:**
```
=== 基本的な文字列操作 ===
文字列1: "Hello"
文字列2: "World"

my_strlen("Hello") = 5
my_strlen("World") = 5

my_strcpy実行後: "Hello"
my_strcmp("Hello", "World") = -15 (Hello < World)
my_strcmp("Hello", "Hello") = 0 (等しい)

my_strcat実行後: "HelloWorld"
```

### 問題10-2: 文字列の検索と置換
文字列内の文字や部分文字列を検索・置換する関数を実装してください。

**要件**

- 以下の関数を実装:
  - `my_strchr()` - 文字を検索
  - `my_strrchr()` - 文字を後方検索
  - 特定文字の出現回数をカウント
  - 文字列内の特定文字を別の文字に置換

**実装のヒント**

- ポインタを使った効率的な実装
- NULLチェックを忘れずに

**期待される出力例:**
```
=== 文字列の検索と置換 ===
文字列: "Hello, World!"

文字 'o' の検索:
my_strchr: 最初の 'o' は位置 4
my_strrchr: 最後の 'o' は位置 7
出現回数: 2回

文字 'l' を 'L' に置換:
置換後: "HeLLo, WorLd!"
```

## 応用問題

### 問題10-3: 文字列配列の管理
学生名を格納する文字列配列の管理システムを実装してください。

**要件**

- 最大20人の学生名を管理（各名前は最大50文字）
- 以下の機能を実装:
  - 学生名の追加
  - 学生名の削除
  - 学生名の検索
  - アルファベット順にソート
  - 全学生名の表示

**実装のヒント**

- 二次元配列を使用
- strcmp()でソートを実装

**期待される出力例:**
```
=== 学生名管理システム ===
1. 学生追加
2. 学生削除
3. 学生検索
4. アルファベット順ソート
5. 全学生表示
6. 終了

選択: 1
学生名: Tanaka
追加しました。

選択: 1
学生名: Sato
追加しました。

選択: 5
--- 学生一覧 ---
1. Tanaka
2. Sato

選択: 4
ソート完了！

選択: 5
--- 学生一覧 ---
1. Sato
2. Tanaka
```

### 問題10-4: 文字列の分割と結合
文字列を特定のデリミタで分割・結合する関数を実装してください。

**要件**

- カンマ区切りの文字列を分割して配列に格納
- 配列の文字列を指定のデリミタで結合
- 空白文字（スペース、タブ、改行）で分割
- トークンの前後の空白を除去（トリム機能）

**実装のヒント**

- strtok()の仕組みを理解
- 動的な配列管理を考慮

**期待される出力例:**
```
=== 文字列の分割と結合 ===
元の文字列: "apple,banana,orange,grape"

カンマで分割:
1: "apple"
2: "banana"
3: "orange"
4: "grape"

スペースで結合: "apple banana orange grape"

空白文字で分割（トリム付き）:
元の文字列: "  hello   world  \t programming  \n"
1: "hello"
2: "world"
3: "programming"
```

### 問題10-5: 文字列の変換と検証
文字列の変換および検証を行う関数を実装してください。

**要件**

- 文字列を大文字/小文字に変換
- 文字列が数値として有効か検証
- 文字列を整数/浮動小数点数に変換
- パスワードの強度チェック（英数字、記号を含む8文字以上）

**実装のヒント**

- ctype.h の関数を活用
- エラーハンドリングを適切に

**期待される出力例:**
```
=== 文字列の変換と検証 ===
文字列: "Hello World 123"
大文字変換: "HELLO WORLD 123"
小文字変換: "hello world 123"

数値検証:
"123" → 有効な整数
"12.34" → 有効な実数
"abc123" → 無効な数値

文字列を数値に変換:
"123" → 123 (整数)
"45.67" → 45.67 (実数)

パスワード強度チェック:
"password" → 弱い（英字のみ）
"Pass123!" → 強い（英数字と記号を含む8文字）
```

## チャレンジ問題

### 問題10-6: 高度な文字列検索
パターンマッチングアルゴリズムを実装してください。

**要件**

- ワイルドカード検索（*、?）の実装
- 大小文字を区別しない検索
- 単語境界での検索（単語単位の検索）
- 複数パターンの同時検索

**追加要件**

- 検索アルゴリズムの効率性を考慮
- KMP法やBoyer-Moore法の簡易版を実装

**期待される出力例:**
```
=== 高度な文字列検索 ===
テキスト: "The quick brown fox jumps over the lazy dog"

ワイルドカード検索:
パターン "*fox*" → マッチ（位置: 16）
パターン "qu?ck" → マッチ（位置: 4）

大小文字を区別しない検索:
"THE" → 見つかった位置: 0, 31

単語境界検索:
"the" → 見つかった単語位置: 31（"The"は単語境界でマッチしない）

複数パターン同時検索:
パターン: ["quick", "fox", "dog"]
結果:
- "quick": 位置 4
- "fox": 位置 16
- "dog": 位置 40
```

### 問題10-7: テキストエディタの基本機能
簡単なテキストエディタの基本機能を実装してください。

**要件**

- 複数行のテキストを管理（最大100行、各行最大80文字）
- 以下の機能を実装:
  - 行の挿入・削除
  - 文字列の検索・置換（全置換機能付き）
  - 行番号付きの表示
  - ファイルへの保存と読み込み

**実装のヒント**

- 二次元配列でテキストを管理
- ファイルI/Oの適切なエラー処理

**期待される出力例:**
```
=== 簡易テキストエディタ ===
1. 行の挿入
2. 行の削除
3. 検索
4. 置換
5. 表示
6. 保存
7. 読み込み
8. 終了

選択: 1
行番号: 1
内容: Hello, World!
挿入しました。

選択: 5
1: Hello, World!

選択: 3
検索文字列: World
見つかりました: 行1, 位置7

選択: 4
検索文字列: World
置換文字列: Programming
全置換しますか？(y/n): y
1件置換しました。

選択: 5
1: Hello, Programming!
```

## 提出方法
1. 各演習問題ごとに独立したCファイルを作成
2. ファイル名は `ex10_1.c`, `ex10_2.c` のような形式で
3. 安全な文字列操作を心がけ、バッファオーバーフローに注意
4. エラーハンドリングを適切に実装

## 学習のポイント
- null終端文字列の概念を確実に理解
- バッファサイズと文字列長の違いを意識
- ポインタと配列の関係を文字列で実践
- セキュアな文字列操作の重要性を認識