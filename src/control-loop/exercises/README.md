# 第6章 演習問題: 制御構造（ループ）

## 演習の目的
- for文、while文、do-while文の使い分けを理解する
- break文とcontinue文を適切に使えるようになる
- ネストしたループを活用した問題解決能力を養う

## 基礎問題

### 問題6-1: フィボナッチ数列
最初のN個のフィボナッチ数を表示するプログラムを作成してください。

**要件**

- ユーザーから表示する個数Nを入力
- フィボナッチ数列: 0, 1, 1, 2, 3, 5, 8, 13, ...
- for文を使用して実装

**実装のヒント**

- 最初の2つの数は0と1
- 3番目以降は前の2つの数の和

**期待される出力例:**
```
フィボナッチ数列表示プログラム
表示する個数を入力してください: 10

フィボナッチ数列（最初の10個）:
0 1 1 2 3 5 8 13 21 34

別の例:
表示する個数を入力してください: 15

フィボナッチ数列（最初の15個）:
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377
```

**ファイル名:** `ex6_1_fibonacci.c`

### 問題6-2: 数当てゲーム
1から100までの数当てゲームを作成してください。

**要件**

- プログラムがランダムに1～100の数を決定
- ユーザーが予想を入力
- 「もっと大きい」「もっと小さい」のヒントを出す
- 10回以内に当てられなければゲームオーバー
- do-while文を使用

**実装のヒント**

- `rand() % 100 + 1` でランダムな数を生成
- 試行回数をカウント

**期待される出力例:**
```
=== 数当てゲーム ===
1から100までの数を当ててください！
10回以内に当てられればクリアです。

あなたの予想: 50
もっと小さい数です

あなたの予想: 25
もっと大きい数です

あなたの予想: 37
もっと大きい数です

あなたの予想: 43
もっと小さい数です

あなたの予想: 40
正解です！
4回で当てました。おめでとう！

別の例（失敗）:
（10回予想しても当たらない場合）
残念！答えは 72 でした。
```

**ファイル名:** `ex6_2_number_game.c`

### 問題6-3: 掛け算表
9×9の掛け算表を表示するプログラムを作成してください。

**要件**

- ネストしたfor文を使用
- 見やすい表形式で出力
- 列と行のヘッダーを含める

**出力例:**
```
    1   2   3   4   5   6   7   8   9
1   1   2   3   4   5   6   7   8   9
2   2   4   6   8  10  12  14  16  18
3   3   6   9  12  15  18  21  24  27
...
```

**実装のヒント**

- printf()の書式指定子で桁揃えを行う
- %3d などを使用して桁数を統一

**ファイル名:** `ex6_3_multiplication_table.c`

## 応用問題

### 問題6-4: 素数リスト
指定された範囲内のすべての素数を表示するプログラムを作成してください。

**要件**

- ユーザーから範囲（開始値と終了値）を入力
- その範囲内の素数をすべて表示
- 素数の個数も表示
- ネストしたループとbreak文を活用

**実装のヒント**

- 2からsqrt(n)まで割り切れるか確認
- 効率化のため、偶数は2以外スキップ

**期待される出力例:**
```
素数リスト表示プログラム
開始値を入力してください: 10
終了値を入力してください: 50

10から50までの素数:
11 13 17 19 23 29 31 37 41 43 47

素数の個数: 11個

別の例:
開始値を入力してください: 1
終了値を入力してください: 30

1から30までの素数:
2 3 5 7 11 13 17 19 23 29

素数の個数: 10個
```

**ファイル名:** `ex6_4_prime_list.c`

### 問題6-5: 図形の描画
アスタリスク(*)を使って様々な図形を描画するプログラムを作成してください。

**要件:**
以下の4つの図形を描画する機能を実装:
1. 正方形
2. 直角三角形
3. 逆直角三角形
4. ダイヤモンド

**例（サイズ5の場合）:**

正方形:
```
*****
*****
*****
*****
*****
```

直角三角形:
```
*
**
***
****
*****
```

逆直角三角形:
```
*****
****
***
**
*
```

ダイヤモンド:
```
  *
 ***
*****
 ***
  *
```

**実装のヒント**

- ネストしたループを使用
- 空白文字とアスタリスクの配置に注意

**ファイル名:** `ex6_5_draw_shapes.c`

### 問題6-6: 完全数の探索
完全数を探すプログラムを作成してください。

**完全数とは:**
その数自身を除く約数の和が、その数自身と等しくなる自然数
例: 6 = 1 + 2 + 3, 28 = 1 + 2 + 4 + 7 + 14

**要件**

- ユーザーから上限値を入力
- 1からその値までの完全数をすべて表示
- 各完全数について、約数も表示

**期待される出力例:**
```
完全数探索プログラム
上限値を入力してください: 1000

1から1000までの完全数:

6は完全数です
約数: 1 + 2 + 3 = 6

28は完全数です
約数: 1 + 2 + 4 + 7 + 14 = 28

496は完全数です
約数: 1 + 2 + 4 + 8 + 16 + 31 + 62 + 124 + 248 = 496

見つかった完全数の個数: 3個
```

**ファイル名:** `ex6_6_perfect_numbers.c`

## チャレンジ問題

### 問題6-7: パスカルの三角形
パスカルの三角形を表示するプログラムを作成してください。

**要件**

- ユーザーから行数を入力（最大15行）
- 適切な配置で三角形を表示
- 各数値は前の行の2つの数の和

**出力例（5行の場合）:**
```
    1
   1 1
  1 2 1
 1 3 3 1
1 4 6 4 1
```

**実装のヒント**

- 2次元配列を使用
- 適切な空白で中央揃え

**ファイル名:** `ex6_7_pascal_triangle.c`

### 問題6-8: コンソールアニメーション
簡単なコンソールアニメーションを作成してください。

**要件**

- 横に移動するアスタリスクのアニメーション
- 画面幅を考慮して左右に往復
- ESCキーまたはCtrl+Cで終了
- system("clear")またはsystem("cls")を使用

**動作例:**
```
*                    （右に移動）
 *
  *
   *
    *                （端に到達したら折り返し）
   *
  *
 *
*                    （左端に戻る）
```

**期待される出力例:**
```
コンソールアニメーション
Ctrl+Cで終了します...

（画面がクリアされて以下のアニメーションが繰り返される）

フレーム1:
*

フレーム2:
 *

フレーム3:
  *

... (続く) ...

フレーム40:
                                        *

（端に到達後、逆方向に移動）

フレーム41:
                                       *

... (左端まで戻って繰り返し) ...
```

**ファイル名:** `ex6_8_console_animation.c`

### 問題6-9: 数字ピラミッド
数字を使ったピラミッドパターンを生成するプログラムを作成してください。

**要件**

- ユーザーから高さを入力（1-9）
- 複数のパターンを選択可能
- continue文を活用した効率的な実装

**パターン例（高さ5）:**

パターン1:
```
    1
   2 2
  3 3 3
 4 4 4 4
5 5 5 5 5
```

パターン2:
```
    1
   1 2 1
  1 2 3 2 1
 1 2 3 4 3 2 1
1 2 3 4 5 4 3 2 1
```

パターン3:
```
    1
   2 3 2
  3 4 5 4 3
 4 5 6 7 6 5 4
5 6 7 8 9 8 7 6 5
```

**ファイル名:** `ex6_9_number_pyramid.c`

## 提出方法
1. 各問題に対して個別のCファイルを作成
2. ファイル名は指定された名前を使用
3. コメントで問題番号と簡単な説明を記載
4. コンパイル・実行確認を必ず行う

## 評価基準
- **正確性**: 要求仕様を満たしているか
- **効率性**: 適切なループの選択と最適化
- **可読性**: 適切なインデント、変数名、コメント
- **創造性**: チャレンジ問題での工夫

## 学習のポイント
- for、while、do-whileの使い分け
- breakとcontinueの適切な使用
- ネストループの理解と活用
- ループの効率化技術