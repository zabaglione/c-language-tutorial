/*
 * 課題2-6の解答例: 文字とASCIIコード（C99版）
 * ファイル名: ex2_6_ascii_explorer_c99.c
 * 説明: 文字とASCIIコードの関係、ループによるASCII表の表示
 * C99特有の機能：forループ内変数宣言、必要な時点での変数宣言を使用
 */

#include <stdio.h>

int main(void)
{
    /* ユーザーからの文字入力 */
    printf("文字を1つ入力してください: ");
    char input_char;    /* C99：必要な時点で変数宣言 */
    scanf(" %c", &input_char);  /* 空白文字をスキップするため先頭に空白 */
    
    /* 入力された文字のASCIIコードを表示 */
    int ascii_code = (int)input_char;  /* C99：宣言と同時に初期化 */
    printf("入力された文字: %c\n", input_char);
    printf("ASCIIコード: %d\n", ascii_code);
    printf("\n");
    
    /* ASCII表の一部を表示 */
    printf("ASCII表（32-126）の一部:\n");
    
    /* 32から126までのASCII文字を8文字ずつ表示 */
    for (int i = 32; i <= 126; i++) {  /* C99：forループ内変数宣言 */
        /* 表示可能文字かチェック */
        if (i == 32) {
            printf("%3d:   ", i);  /* スペース文字は特別に表示 */
        } else {
            printf("%3d: %c ", i, (char)i);
        }
        
        /* 8文字ごとに改行 */
        if ((i - 31) % 8 == 0) {
            printf("\n");
        }
    }
    
    /* 追加情報の表示 */
    printf("\n");
    printf("ASCII表の説明:\n");
    printf("  0-31  : 制御文字（表示されない）\n");
    printf("  32    : スペース文字\n");
    printf("  33-126: 表示可能文字（英数字、記号など）\n");
    printf("  127   : DEL文字（制御文字）\n");
    
    return 0;
}

/*
学習ポイント:
1. 文字とASCIIコードの関係:
   - 文字は内部的には数値（ASCIIコード）として扱われる
   - (int)char_var → 文字を整数に変換
   - (char)int_var → 整数を文字に変換
   
2. scanf関数での文字入力:
   - scanf(" %c", &var) → 先頭の空白で前の入力の改行文字をスキップ
   - %c 指定子で1文字を読み込み
   
3. forループの使用:
   - for (i = 開始値; 条件; 増分) { 処理 }
   - ASCII表の連続表示に活用
   
4. 条件分岐:
   - if文による特別な処理（スペース文字の場合）
   - 改行タイミングの制御
   
5. 書式指定子の応用:
   - %3d: 3桁幅での整数表示
   - 表を整列させるためのフォーマット

C99での変更点:
- forループ内での変数宣言（for (int i = 32; ...)）
- 必要な時点での変数宣言（input_char, ascii_code）
- より読みやすいコード構造
   
応用ポイント:
- ASCII表は文字コードの基礎
- 文字と数値の相互変換は文字列処理の基本
- ループを使った規則的な処理の例
- 表形式での見やすい出力方法

注意点:
- C90では forループ内での変数宣言は不可
- C99ではより柔軟な変数宣言が可能
*/